<section class="sign-in-page">
  <div class="container">
    <div
      class="row justify-content-center align-items-center height-self-center"
    >
      <div class="col-lg-5 col-md-12 align-self-center">
        <div class="sign-user_card">
          <div class="sign-in-page-data">
            <div class="sign-in-from w-100 m-auto">
              <h3 class="mb-3 text-center" style="color: white">Sign Up</h3>
              <form class="mt-4" #userSignUp="ngForm"(ngSubmit)="CreateCustomer(userSignUp, profilePic.files)">
                <div class="form-group">
                  <input
                    required
                    style="text-align: center"
                    type="text"
                    [(ngModel)]="firstName"
                    [ngStyle]="{ border: getColor(1) }"
                    class="form-control mb-0"
                    id="firstname"
                    name="firstName"
                    placeholder="First Name"
                    autocomplete="off"
                    required
                  />
                </div>
                <div class="form-group">
                  <input
                    required
                    style="text-align: center"
                    type="text"
                    [(ngModel)]="lastName"
                    [ngStyle]="{ border: getColor(2) }"
                    class="form-control mb-0"
                    id="lastname"
                    name="lastName"
                    placeholder="last Name"
                    autocomplete="off"
                    required
                  />
                </div>
                <div class="form-group">
                  <input
                    required
                    style="text-align: center"
                    ngModel
                    [ngStyle]="{ border: getColor(3) }"
                    [(ngModel)]="userName"
                    type="text"
                    ngModel
                    class="form-control mb-0"
                    id="UserName"
                    name="UserName"
                    placeholder="Username"
                    autocomplete="off"
                    required
                  />
                </div>
                <div class="form-group">
                  <i
                    class="help-block"
                    style="margin-left: 140px; color: red"
                    *ngIf="!email.valid && email.touched"
                    >Email is in invalid Format</i
                  >
                  <i
                    class="help-block row offset-3"
                    style="color: red"
                    *ngIf="!EmailIsValid && email.touched"
                    >Email is Already Registered</i
                  >
                  <input
                    required
                    #email="ngModel"
                    (input)="checkEmail(email.valid)"
                    [(ngModel)]="userEmail"
                    [ngStyle]="{ border: getEmailBorderColor() }"
                    style="text-align: center"
                    email
                    class="form-control mb-0"
                    name="email"
                    id="email"
                    placeholder="Enter email"
                    autocomplete="off"
                    required
                  />
                </div>
                <div class="form-group">
                  <i
                    class="help-block row offset-3"
                    style="color: red"
                    *ngIf="!passwordValid"
                    >Passwords doesnt match</i
                  >
                  <i
                    class="help-block row offset-3"
                    style="color: red"
                    *ngIf="!passwordfield.valid && passwordfield.touched"
                    >Passwords Must be at least 8 Charachters
                  </i>

                  <input
                    required
                    style="text-align: center"
                    [ngStyle]="{ border: getBorderColor() }"
                    [ngStyle]="{ border: checkLength(passwordfield.valid) }"
                    (input)="getBorderColor()"
                    [(ngModel)]="password"
                    type="password"
                    #passwordfield="ngModel"
                    ngModel
                    class="form-control mb-0"
                    id="Password"
                    name="Password"
                    placeholder="Password"
                    required
                    minlength="8"
                  />
                </div>
                <div class="form-group">
                  <input
                    style="text-align: center"
                    [ngStyle]="{ border: getBorderColor() }"
                    (input)="getBorderColor()"
                    type="password"
                    [(ngModel)]="ConfirmedPassword"
                    class="form-control mb-0"
                    name="confirmUserPassword"
                    id="confirmUserPassword"
                    placeholder="confirm Password"
                    required
                    minlength="8"
                  />
                </div>
                <div
                  class="form-group"
                  style="border: 0.5px solid gray; margin-top: 20px"
                >
                  <div class="mb-3 offset-4">
                    <label
                      for="formFile"
                      style="color: white"
                      class="form-label"
                      >A Lovely Image Of You :</label
                    ><br />
                    <input
                    accept="image/*"
                      type="file"
                      ngModel
                      id="profilePic"
                      name="profilePic"
                      #profilePic
                      placeholder="choose File"
                      style="color: gray"
                    />

                  </div>
                </div>

                <div class="custom-control custom-checkbox mb-3 offset-3">
                  <input
                  
                    ngModel
                    style="text-align: center"
                    #termsBox
                    (change)="setBoxValue()"
                    name="termsBox"
                    type="checkbox"
                    class="custom-control-input"
                    id="termsBox"
                  />
                  <label
                    class="custom-control-label"
                    for="termsBox"
                    style="color: rgb(163, 159, 159)"
                    >I accept
                    <a href="#" class="text-primary">
                      Terms and Conditions</a
                    ></label
                  >
                </div>

                <input             
                  type="submit"
                  [disabled]="
                    !userSignUp.valid ||
                    !EmailIsValid ||
                    !checkPassword() ||
                    !checkBoxValue
                  "
                  class="btn btn-hover offset-4"
                  value="sign Up"
                />
              </form>
            </div>
          </div>
          <div class="mt-3">
            <div class="d-flex justify-content-center links">
              <p style="color: rgb(163, 159, 159)">Already have an account</p>
              ? <a routerLink="" class="text-primary ml-2">Sign In</a>
            </div>        
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

